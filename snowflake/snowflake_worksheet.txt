-- create warehouse transforming;

create database bigdorksonly;
-- drop database flipside;

create schema bigdorksonly.flipside;
create table bigdorksonly.flipside.curr_account_bals
(last_activity_block integer,
 last_activity_block_timestamp datetime,
 user_address varchar,
 contract_address varchar,
 current_bal_unadj varchar,
 current_bal double,
 usd_value_last_activity double,
 usd_value_now double,
 network varchar,
 symbol varchar,
 token_name varchar,
 decimals integer,
 has_decimal boolean,
 has_price boolean,
 last_recorded_price datetime,
 _etl_timestamp datetime default current_timestamp
);

create schema bigdorksonly.coingecko;
create table bigdorksonly.coingecko.spot_prices
(asset varchar,
 usd double,
 usd_market_cap double,
 usd_24h_vol double,
 _etl_timestamp datetime default current_timestamp
);
create table bigdorksonly.coingecko.trending
(id varchar,
 name varchar,
 symbol varchar,
 market_cap_rank int,
 score int,
 _etl_timestamp datetime default current_timestamp
);
create table bigdorksonly.coingecko.historical_prices
(time datetime,
 prices double,
 market_caps double,
 total_volumes double,
 asset varchar,
 _etl_timestamp datetime default current_timestamp
);

create schema bigdorksonly.cryptowatch;
create table bigdorksonly.cryptowatch.spot_prices
(exchange varchar,
 asset varchar,
 base varchar,
 price double,
 _etl_timestamp datetime default current_timestamp
);
